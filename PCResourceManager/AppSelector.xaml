<Window x:Class="PCResourceManager.AppSelector"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Select App" Height="600" Width="500"
        WindowStartupLocation="CenterScreen"
        Background="White">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <Border Grid.Row="0" Padding="15" Background="White">
            <TextBlock Text="Select Process" FontSize="20" FontWeight="SemiBold"/>
        </Border>

        <ListView x:Name="ProcessList" Grid.Row="1" BorderThickness="0" ScrollViewer.HorizontalScrollBarVisibility="Disabled">
            <ListView.ItemTemplate>
                <DataTemplate>
                    <Border BorderBrush="#F0F0F0" BorderThickness="0,0,0,1" Padding="10">
                        <Grid Width="440">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="50"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="80"/>
                            </Grid.ColumnDefinitions>

                            <Image Grid.Column="0" Source="{Binding Icon}" Width="32" Height="32" HorizontalAlignment="Left"/>

                            <StackPanel Grid.Column="1" VerticalAlignment="Center" Margin="10,0,0,0">
                                <TextBlock Text="{Binding DisplayName}" FontSize="14" FontWeight="SemiBold" TextTrimming="CharacterEllipsis"/>

                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="{Binding MemoryMB, StringFormat='RAM: {0} MB'}" FontSize="12" Foreground="Gray"/>

                                    <TextBlock Text=" | " FontSize="12" Foreground="#CCCCCC" Margin="5,0"/>

                                    <TextBlock Text="{Binding DataUsageText}" FontSize="12" Foreground="#0078D7" FontWeight="SemiBold"/>
                                </StackPanel>
                            </StackPanel>

                            <Button Grid.Column="2" 
                                    Content="Select" 
                                    Width="70" Height="30"
                                    Background="White" 
                                    BorderBrush="#E0E0E0" 
                                    BorderThickness="1"
                                    Click="ItemSelect_Click" 
                                    Tag="{Binding}"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListView.ItemTemplate>
        </ListView>
    </Grid>
</Window>